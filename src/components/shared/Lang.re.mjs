// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Lingui from "../../locales/Lingui.re.mjs";
import * as Core__Option from "@rescript/core/src/Core__Option.re.mjs";
import * as LangProvider from "./LangProvider.re.mjs";
import * as Json$JsonCombinators from "@glennsl/rescript-json-combinators/src/Json.re.mjs";
import * as Json_Decode$JsonCombinators from "@glennsl/rescript-json-combinators/src/Json_Decode.re.mjs";

function parse(json) {
  var decoder = Json_Decode$JsonCombinators.object(function (field) {
        return {
                lang: field.optional("lang", Json_Decode$JsonCombinators.string),
                locale: field.optional("locale", Json_Decode$JsonCombinators.string)
              };
      });
  try {
    return Json$JsonCombinators.decode(json, decoder);
  }
  catch (exn){
    return {
            TAG: "Error",
            _0: "An unexpected error occurred when checking the id."
          };
  }
}

var RouteParams = {
  parse: parse
};

var LoaderArgs = {};

async function loader(param) {
  var lang = Core__Option.getOr(param.params.lang, "en");
  var lang$1 = lang === "ja" ? "ja" : "en";
  var locale = lang$1 === "ja" ? "jp" : "us";
  Lingui.i18n.activate(lang$1);
  return {
          locale: locale,
          lang: lang$1
        };
}

var Component = LangProvider.make;

export {
  RouteParams ,
  LoaderArgs ,
  loader ,
  Component ,
}
/* Lingui Not a pure module */
